# Kalynt Desktop Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# AI Provider API Keys
# ===========================================
VITE_OPENAI_API_URL=https://api.openai.com/v1
VITE_ANTHROPIC_API_URL=https://api.anthropic.com
VITE_GOOGLE_API_URL=https://generativelanguage.googleapis.com
VITE_GITHUB_API_URL=https://api.github.com

# ===========================================
# Model Registry
# ===========================================
VITE_MODEL_REGISTRY_URL=/models.json
VITE_MODEL_UPDATE_URL=https://api.kalynt.com/models/registry

# ===========================================
# Auto-Update Configuration
# ===========================================
# GitHub Repository (required)
GITHUB_REPO_OWNER=Hermes-Lekkas
GITHUB_REPO_NAME=Kalynt

# GitHub Personal Access Token (optional, for private repos only)
# Create at: https://github.com/settings/tokens/new
# Required scopes: public_repo (or repo for private repositories)
# WARNING: Keep this token secret! Never commit it to version control!
GH_TOKEN=

# Update Channel: 'latest' (stable), 'beta', or 'alpha'
UPDATE_CHANNEL=beta

# Update check interval in milliseconds (default: 1 hour = 3600000ms)
UPDATE_CHECK_INTERVAL_MS=3600000

# ===========================================
# File System
# ===========================================
# Path to models directory (optional, defaults to userData/models)
KALYNT_MODELS_DIR=

# Maximum file size in MB
VITE_MAX_FILE_SIZE_MB=50

# ===========================================
# Security & Encryption
# ===========================================
# PBKDF2 iterations for encryption (OWASP recommended minimum: 100000)
VITE_ENCRYPTION_PBKDF2_ITERATIONS=100000

# ===========================================
# P2P / WebRTC Configuration
# ===========================================
# Built-in signaling server port (default: 4444)
# The Electron main process starts a y-webrtc signaling server on this port.
# The renderer connects to ws://localhost:<port> for P2P peer discovery.
VITE_SIGNALING_PORT=4444

# CROSS-NETWORK FIX: Allow LAN connections to the built-in signaling server
# By default, the signaling server binds to 127.0.0.1 (localhost only) for security.
# Set to 0.0.0.0 to allow connections from other machines on the same network.
# WARNING: Only enable this on trusted networks - exposes signaling to LAN
# KALYNT_SIGNALING_BIND=0.0.0.0

# Optional: External signaling server for cross-internet P2P connections
# (Same-LAN and same-machine P2P works without this via the built-in server)
# Note: Cross-internet P2P also works via the bundled public server:
#   wss://y-webrtc-eu.fly.dev (free, included with y-webrtc)
# Deploy your own signaling server to fly.io/render.com/railway free tier:
#   https://fly.io â€” run: fly launch --image dmonad/y-webrtc-signaling
# VITE_SIGNALING_URL=wss://your-signaling-server.fly.dev

# TURN server for peers behind symmetric NAT / corporate firewalls
# Required when peers are behind restrictive firewalls or symmetric NAT.
# Without TURN, connections fail when BOTH peers are behind symmetric NAT.
#
# GET FREE TURN CREDENTIALS:
#   1. Metered.ca: https://www.metered.ca (free tier: 500MB/month, no CC required)
#   2. Open Relay: https://www.metered.ca/tools/openrelay/ (free public TURN)
#
# NEW BYOK (Bring Your Own Key) ARCHITECTURE:
# Users can now input their own TURN server credentials directly via the Kalynt UI
# (Settings -> Advanced Tab -> P2P Network Configuration).
# This is much more secure as credentials are no longer bundled in the built app executable.
#
# While these env variables are still supported for custom self-hosted deployments,
# DO NOT put your Metered.ca or paid TURN server credentials here if you plan
# to distribute the app publicly via GitHub Actions.
#
# VITE_TURN_URL=turn:your-server.metered.live:80
# VITE_TURN_USERNAME=your-username
# VITE_TURN_CREDENTIAL=your-credential

# ===========================================
# Performance & Timeouts
# ===========================================
# AI request timeout in milliseconds
VITE_AI_REQUEST_TIMEOUT_MS=30000

# ===========================================
# Feature Flags
# ===========================================
# Enable offline mode
VITE_ENABLE_OFFLINE_MODE=true

# Enable analytics (disabled by default for privacy)
VITE_ENABLE_ANALYTICS=false

# Enable telemetry (disabled by default for privacy)
VITE_ENABLE_TELEMETRY=false

# ===========================================
# Development
# ===========================================
# Vite dev server URL (automatically set during development)
# VITE_DEV_SERVER_URL=http://localhost:5173

# ===========================================
# Code Signing (Production Only)
# ===========================================
# Path to code signing certificate
# CSC_LINK=/path/to/certificate.p12  # macOS
# CSC_LINK=/path/to/certificate.pfx  # Windows

# Certificate password
# CSC_KEY_PASSWORD=your_password_here

# Apple ID for notarization (macOS only)
# APPLE_ID=your_apple_id@email.com
# APPLE_ID_PASSWORD=app-specific-password
# APPLE_TEAM_ID=your_team_id
